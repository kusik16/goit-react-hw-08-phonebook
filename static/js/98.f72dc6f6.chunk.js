"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[98],{6098:function(e,t,a){a.r(t),a.d(t,{default:function(){return be}});var n=a(885),r=a(2791),o=a(5048),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},s=a(6871),c=a(6488),d=a(7205),l=a(6015),u=a(5705),m=a(1089),p=m.Ry({name:m.Z_().min(2,"Name should contain 2-60 characters").max(60,"Name should contain 2-60 characters").required("Name is required"),number:m.Z_().matches(/^\d+$/,"Number should be valid").required("Number is required")}),v=a(8723),g=a(2419),f=a(184),h=function(e){var t=e.onAddContact,a=e.createError,n=(0,u.TA)({initialValues:{name:"",number:""},validationSchema:p,onSubmit:function(e){var a=e.name,n=e.number;t(a,n)}});return(0,f.jsxs)(l.Z,{onSubmit:n.handleSubmit,component:"form",sx:{width:"100%",maxWidth:500,backgroundColor:"#f0f0f0",borderRadius:"5px",marginBottom:"25px"},noValidate:!0,autoComplete:"off",children:[(0,f.jsx)(v.Z,{sx:{width:"100%"},id:"name",label:"Name",variant:"filled",value:n.values.name,onChange:n.handleChange,error:Boolean(n.errors.name),helperText:n.errors.name}),(0,f.jsx)(v.Z,{sx:{width:"100%"},id:"number",label:"Number",variant:"filled",value:n.values.number,onChange:n.handleChange,error:Boolean(n.errors.number),helperText:n.errors.number}),(0,f.jsx)(d.Z,{type:"submit",disabled:!(n.isValid&&n.dirty),sx:{margin:"0 auto",marginTop:"10px",width:"100%"},variant:"contained",startIcon:(0,f.jsx)(g.Z,{}),children:"Add contact"}),a&&(0,f.jsx)(l.Z,{sx:{textAlign:"center",paddingTop:"10px",paddingBottom:"10px",fontSize:"20px",color:"red"},children:a})]})},b=a(1703),Z=function(e){var t=e.onFilter;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{sx:{marginBottom:"10px"},children:"Find contacts by name"}),(0,f.jsx)(v.Z,{sx:{margin:"0 auto",marginBottom:"10px",width:"100%",maxWidth:500,bgcolor:"#f0f0f0"},onChange:function(e){return t(e)},fullWidth:!0,label:(0,f.jsx)(b.Z,{}),id:"fullWidth"})]})},x=a(5629),y=a(7247),C=a(4942),S=a(3366),I=a(7462),j=a(8182),w=a(4419),R=a(627),N=a(2065),L=a(277),A=a(5513),k=a(7491),M=a(6258),z=a(3026),P=a(7933),T=a(8826),F=a(1217),B=a(5878);function O(e){return(0,F.Z)("MuiListItem",e)}var V=(0,B.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var G=(0,B.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function q(e){return(0,F.Z)("MuiListItemSecondaryAction",e)}(0,B.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var W=["className"],D=(0,L.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,I.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),_=r.forwardRef((function(e,t){var a=(0,A.Z)({props:e,name:"MuiListItemSecondaryAction"}),n=a.className,o=(0,S.Z)(a,W),i=r.useContext(T.Z),s=(0,I.Z)({},a,{disableGutters:i.disableGutters}),c=function(e){var t=e.disableGutters,a=e.classes,n={root:["root",t&&"disableGutters"]};return(0,w.Z)(n,q,a)}(s);return(0,f.jsx)(D,(0,I.Z)({className:(0,j.Z)(c.root,n),ownerState:s,ref:t},o))}));_.muiName="ListItemSecondaryAction";var H=_,E=["className"],U=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],Y=(0,L.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dense&&t.dense,"flex-start"===a.alignItems&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.button&&t.button,a.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,a=e.theme,n=e.ownerState;return(0,I.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,I.Z)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&(0,C.Z)({},"& > .".concat(G.root),{paddingRight:48}),(t={},(0,C.Z)(t,"&.".concat(V.focusVisible),{backgroundColor:(a.vars||a).palette.action.focus}),(0,C.Z)(t,"&.".concat(V.selected),(0,C.Z)({backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,N.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)},"&.".concat(V.focusVisible),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,N.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)})),(0,C.Z)(t,"&.".concat(V.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),t),"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"},n.button&&(0,C.Z)({transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(V.selected,":hover"),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,N.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,N.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}}),n.hasSecondaryAction&&{paddingRight:48})})),$=(0,L.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),J=r.forwardRef((function(e,t){var a=(0,A.Z)({props:e,name:"MuiListItem"}),n=a.alignItems,o=void 0===n?"center":n,i=a.autoFocus,s=void 0!==i&&i,c=a.button,d=void 0!==c&&c,l=a.children,u=a.className,m=a.component,p=a.components,v=void 0===p?{}:p,g=a.componentsProps,h=void 0===g?{}:g,b=a.ContainerComponent,Z=void 0===b?"li":b,x=a.ContainerProps,y=(x=void 0===x?{}:x).className,C=a.dense,N=void 0!==C&&C,L=a.disabled,F=void 0!==L&&L,B=a.disableGutters,G=void 0!==B&&B,q=a.disablePadding,W=void 0!==q&&q,D=a.divider,_=void 0!==D&&D,J=a.focusVisibleClassName,K=a.secondaryAction,Q=a.selected,X=void 0!==Q&&Q,ee=(0,S.Z)(a.ContainerProps,E),te=(0,S.Z)(a,U),ae=r.useContext(T.Z),ne={dense:N||ae.dense||!1,alignItems:o,disableGutters:G},re=r.useRef(null);(0,z.Z)((function(){s&&re.current&&re.current.focus()}),[s]);var oe=r.Children.toArray(l),ie=oe.length&&(0,M.Z)(oe[oe.length-1],["ListItemSecondaryAction"]),se=(0,I.Z)({},a,{alignItems:o,autoFocus:s,button:d,dense:ne.dense,disabled:F,disableGutters:G,disablePadding:W,divider:_,hasSecondaryAction:ie,selected:X}),ce=function(e){var t=e.alignItems,a=e.button,n=e.classes,r=e.dense,o=e.disabled,i={root:["root",r&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",o&&"disabled",a&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,w.Z)(i,O,n)}(se),de=(0,P.Z)(re,t),le=v.Root||Y,ue=h.root||{},me=(0,I.Z)({className:(0,j.Z)(ce.root,ue.className,u),disabled:F},te),pe=m||"li";return d&&(me.component=m||"div",me.focusVisibleClassName=(0,j.Z)(V.focusVisible,J),pe=k.Z),ie?(pe=me.component||m?pe:"div","li"===Z&&("li"===pe?pe="div":"li"===me.component&&(me.component="div")),(0,f.jsx)(T.Z.Provider,{value:ne,children:(0,f.jsxs)($,(0,I.Z)({as:Z,className:(0,j.Z)(ce.container,y),ref:de,ownerState:se},ee,{children:[(0,f.jsx)(le,(0,I.Z)({},ue,!(0,R.Z)(le)&&{as:pe,ownerState:(0,I.Z)({},se,ue.ownerState)},me,{children:oe})),oe.pop()]}))})):(0,f.jsx)(T.Z.Provider,{value:ne,children:(0,f.jsxs)(le,(0,I.Z)({},ue,{as:pe,ref:de,ownerState:se},!(0,R.Z)(le)&&{ownerState:(0,I.Z)({},se,ue.ownerState)},me,{children:[oe,K&&(0,f.jsx)(H,{children:K})]}))})}));function K(e){return(0,F.Z)("MuiListItemAvatar",e)}(0,B.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Q=["className"],X=(0,L.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,"flex-start"===a.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.ownerState;return(0,I.Z)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),ee=r.forwardRef((function(e,t){var a=(0,A.Z)({props:e,name:"MuiListItemAvatar"}),n=a.className,o=(0,S.Z)(a,Q),i=r.useContext(T.Z),s=(0,I.Z)({},a,{alignItems:i.alignItems}),c=function(e){var t=e.alignItems,a=e.classes,n={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,w.Z)(n,K,a)}(s);return(0,f.jsx)(X,(0,I.Z)({className:(0,j.Z)(c.root,n),ownerState:s,ref:t},o))})),te=a(4565);function ae(e){return(0,F.Z)("MuiListItemText",e)}var ne=(0,B.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),re=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],oe=(0,L.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[(0,C.Z)({},"& .".concat(ne.primary),t.primary),(0,C.Z)({},"& .".concat(ne.secondary),t.secondary),t.root,a.inset&&t.inset,a.primary&&a.secondary&&t.multiline,a.dense&&t.dense]}})((function(e){var t=e.ownerState;return(0,I.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),ie=r.forwardRef((function(e,t){var a=(0,A.Z)({props:e,name:"MuiListItemText"}),n=a.children,o=a.className,i=a.disableTypography,s=void 0!==i&&i,c=a.inset,d=void 0!==c&&c,l=a.primary,u=a.primaryTypographyProps,m=a.secondary,p=a.secondaryTypographyProps,v=(0,S.Z)(a,re),g=r.useContext(T.Z).dense,h=null!=l?l:n,b=m,Z=(0,I.Z)({},a,{disableTypography:s,inset:d,primary:!!h,secondary:!!b,dense:g}),x=function(e){var t=e.classes,a=e.inset,n=e.primary,r=e.secondary,o={root:["root",a&&"inset",e.dense&&"dense",n&&r&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,w.Z)(o,ae,t)}(Z);return null==h||h.type===te.Z||s||(h=(0,f.jsx)(te.Z,(0,I.Z)({variant:g?"body2":"body1",className:x.primary,component:"span",display:"block"},u,{children:h}))),null==b||b.type===te.Z||s||(b=(0,f.jsx)(te.Z,(0,I.Z)({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},p,{children:b}))),(0,f.jsxs)(oe,(0,I.Z)({className:(0,j.Z)(x.root,o),ownerState:Z,ref:t},v,{children:[h,b]}))})),se=a(3978),ce=a(9853);function de(e){return(0,F.Z)("MuiIconButton",e)}var le=(0,B.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),ue=["edge","children","className","color","disabled","disableFocusRipple","size"],me=(0,L.ZP)(k.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,"default"!==a.color&&t["color".concat((0,ce.Z)(a.color))],a.edge&&t["edge".concat((0,ce.Z)(a.edge))],t["size".concat((0,ce.Z)(a.size))]]}})((function(e){var t=e.theme,a=e.ownerState;return(0,I.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,N.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===a.edge&&{marginLeft:"small"===a.size?-3:-12},"end"===a.edge&&{marginRight:"small"===a.size?-3:-12})}),(function(e){var t=e.theme,a=e.ownerState;return(0,I.Z)({},"inherit"===a.color&&{color:"inherit"},"inherit"!==a.color&&"default"!==a.color&&(0,I.Z)({color:(t.vars||t).palette[a.color].main},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,N.Fq)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===a.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===a.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,C.Z)({},"&.".concat(le.disabled),{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}))})),pe=r.forwardRef((function(e,t){var a=(0,A.Z)({props:e,name:"MuiIconButton"}),n=a.edge,r=void 0!==n&&n,o=a.children,i=a.className,s=a.color,c=void 0===s?"default":s,d=a.disabled,l=void 0!==d&&d,u=a.disableFocusRipple,m=void 0!==u&&u,p=a.size,v=void 0===p?"medium":p,g=(0,S.Z)(a,ue),h=(0,I.Z)({},a,{edge:r,color:c,disabled:l,disableFocusRipple:m,size:v}),b=function(e){var t=e.classes,a=e.disabled,n=e.color,r=e.edge,o=e.size,i={root:["root",a&&"disabled","default"!==n&&"color".concat((0,ce.Z)(n)),r&&"edge".concat((0,ce.Z)(r)),"size".concat((0,ce.Z)(o))]};return(0,w.Z)(i,de,t)}(h);return(0,f.jsx)(me,(0,I.Z)({className:(0,j.Z)(b.root,i),centerRipple:!0,focusRipple:!m,disabled:l,ref:t,ownerState:h},g,{children:o}))})),ve=function(e){var t=e.id,a=e.name,n=e.number,r=e.onDeleteContact;return(0,f.jsxs)(J,{secondaryAction:(0,f.jsx)(pe,{onClick:function(){return r(t)},edge:"end","aria-label":"delete",children:(0,f.jsx)(y.Z,{})}),children:[(0,f.jsx)(ee,{children:(0,f.jsx)(se.Z,{})}),(0,f.jsx)(ie,{primary:a,secondary:n})]},t)},ge=function(e){var t=e.filteredContacts,a=e.onDeleteContact;return(0,f.jsx)(l.Z,{sx:{margin:"0 auto",marginBottom:"50px",width:"100%",maxWidth:500,bgcolor:"#f0f0f0",borderRadius:"5px"},children:(0,f.jsx)(x.Z,{children:t.length>0?t.map((function(e){var t=e.id,n=e.name,r=e.number;return(0,f.jsx)(ve,{id:t,name:n,number:r,onDeleteContact:a},t)})):(0,f.jsx)(l.Z,{sx:{marginLeft:"15px"},children:"No results"})})})},fe=a(2122),he=a(2733),be=function(){var e=(0,r.useState)(""),t=(0,n.Z)(e,2),a=t[0],u=t[1],m=(0,o.v9)((function(e){return e.contacts})).filter,p=(0,o.I0)(),v=(0,s.s0)(),g=(0,he.Lr)(),b=(0,n.Z)(g,1)[0],x=(0,he.Nt)(),y=(0,n.Z)(x,1)[0],C=(0,he.$n)(),S=(0,n.Z)(C,1)[0],I=(0,he.wY)().data,j=void 0===I?[]:I,w=(0,r.useCallback)((function(e){y(e)}),[]),R=(0,r.useMemo)((function(){var e=j.slice();return m?e.filter((function(e){return e.name.toLowerCase().includes(m.toLowerCase())||(e.number+"").includes(m)})):e}),[j,m]);return(0,f.jsxs)(l.Z,{sx:{margin:"0 auto",width:"100%",maxWidth:500},children:[(0,f.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"15px",alignItems:"flex-end"},children:[(0,f.jsx)(l.Z,{sx:{fontSize:"35px"},children:"Phonebook"}),(0,f.jsx)(d.Z,{onClick:function(){v("/login"),S().then((function(){localStorage.removeItem("token")}))},sx:{margin:"0"},color:"error",variant:"outlined",endIcon:(0,f.jsx)(c.Z,{}),children:"Logout"})]}),(0,f.jsx)(h,{onAddContact:function(e,t){if(j.filter((function(t){return t.name===e})).length>=1)alert("".concat(e," is already in contacts"));else if(j.filter((function(e){return e.number===t})).length>=1)alert("".concat(t," is already in contacts"));else{var a={name:e,number:t,id:i()};b(a).unwrap().catch((function(e){return u(e.data.message)}))}},createError:a}),(0,f.jsx)(l.Z,{sx:{fontSize:"35px",marginBottom:"10px"},children:"Contacts"}),(0,f.jsx)(Z,{onFilter:function(e){p((0,fe.T)(e.target.value))}}),(0,f.jsx)(ge,{filteredContacts:R,onDeleteContact:w})]})}},2419:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),o=a(184),i=(0,r.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=i},7247:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),o=a(184),i=(0,r.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i},6488:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),o=a(184),i=(0,r.default)((0,o.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");t.Z=i},1703:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),o=a(184),i=(0,r.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=i}}]);
//# sourceMappingURL=98.f72dc6f6.chunk.js.map